ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"l9963e_utils.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/l9963e_utils.c"
  20              		.section	.text.L9963E_utils_init,"ax",%progbits
  21              		.align	1
  22              		.global	L9963E_utils_init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	L9963E_utils_init:
  28              	.LFB137:
   1:Core/Src/l9963e_utils.c **** #include "L9963E_utils.h"
   2:Core/Src/l9963e_utils.c **** 
   3:Core/Src/l9963e_utils.c **** L9963E_HandleTypeDef h9l;
   4:Core/Src/l9963e_utils.c **** uint16_t vcellsm[L9963E_SLAVES_N][L9963E_CELLS_N];
   5:Core/Src/l9963e_utils.c **** uint16_t vcells[L9963E_CELLS_N];
   6:Core/Src/l9963e_utils.c **** uint16_t vgpio[L9963E_SLAVES_N][L9963E_GPIOS_N];
   7:Core/Src/l9963e_utils.c **** uint16_t vtot[L9963E_SLAVES_N];
   8:Core/Src/l9963e_utils.c **** uint32_t vsumbatt[L9963E_SLAVES_N];
   9:Core/Src/l9963e_utils.c **** uint16_t slaves_cells[L9963Es_TOTAL_CELLS_N];
  10:Core/Src/l9963e_utils.c **** uint16_t cells_addresses[] = {L9963E_CELL1, L9963E_CELL2, L9963E_CELL3, L9963E_CELL4, L9963E_CELL5,
  11:Core/Src/l9963e_utils.c **** uint16_t gpio_addresses[] = {L9963E_GPIO3, L9963E_GPIO4, L9963E_GPIO5, L9963E_GPIO6, L9963E_GPIO9};
  12:Core/Src/l9963e_utils.c **** int16_t  vbattery_current;
  13:Core/Src/l9963e_utils.c ****  
  14:Core/Src/l9963e_utils.c **** const L9963E_IfTypeDef interfaceH = {
  15:Core/Src/l9963e_utils.c ****     .L9963E_IF_DelayMs = DelayMs,
  16:Core/Src/l9963e_utils.c ****     .L9963E_IF_GetTickMs = GetTickMs,
  17:Core/Src/l9963e_utils.c ****     .L9963E_IF_GPIO_ReadPin = GPIO_ReadPinH,
  18:Core/Src/l9963e_utils.c ****     .L9963E_IF_GPIO_WritePin = GPIO_WritePinH,
  19:Core/Src/l9963e_utils.c ****     .L9963E_IF_SPI_Receive = SPI_ReceiveH,
  20:Core/Src/l9963e_utils.c ****     .L9963E_IF_SPI_Transmit = SPI_TransmitH
  21:Core/Src/l9963e_utils.c **** };
  22:Core/Src/l9963e_utils.c **** 
  23:Core/Src/l9963e_utils.c **** const L9963E_IfTypeDef interfaceL = {
  24:Core/Src/l9963e_utils.c ****     .L9963E_IF_DelayMs = DelayMs,
  25:Core/Src/l9963e_utils.c ****     .L9963E_IF_GetTickMs = GetTickMs,
  26:Core/Src/l9963e_utils.c ****     .L9963E_IF_GPIO_ReadPin = GPIO_ReadPinL,
  27:Core/Src/l9963e_utils.c ****     .L9963E_IF_GPIO_WritePin = GPIO_WritePinL,
  28:Core/Src/l9963e_utils.c ****     .L9963E_IF_SPI_Receive = SPI_ReceiveL,
  29:Core/Src/l9963e_utils.c ****     .L9963E_IF_SPI_Transmit = SPI_TransmitL
  30:Core/Src/l9963e_utils.c **** };
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 2


  31:Core/Src/l9963e_utils.c **** 
  32:Core/Src/l9963e_utils.c **** void L9963E_utils_init(void) {
  29              		.loc 1 32 30 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 48
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  34              		.cfi_def_cfa_offset 28
  35              		.cfi_offset 4, -28
  36              		.cfi_offset 5, -24
  37              		.cfi_offset 6, -20
  38              		.cfi_offset 7, -16
  39              		.cfi_offset 8, -12
  40              		.cfi_offset 9, -8
  41              		.cfi_offset 14, -4
  42 0004 91B0     		sub	sp, sp, #68
  43              		.cfi_def_cfa_offset 96
  33:Core/Src/l9963e_utils.c ****   L9963E_init(&h9l, interfaceL, L9963E_SLAVES_N);
  44              		.loc 1 33 3 view .LVU1
  45 0006 504B     		ldr	r3, .L3
  46 0008 504D     		ldr	r5, .L3+4
  47 000a 4FF00208 		mov	r8, #2
  48 000e CDF80C80 		str	r8, [sp, #12]
  49 0012 03F10C02 		add	r2, r3, #12
  50 0016 07CA     		ldm	r2, {r0, r1, r2}
  51 0018 8DE80700 		stm	sp, {r0, r1, r2}
  52 001c 0ECB     		ldm	r3, {r1, r2, r3}
  53 001e 2846     		mov	r0, r5
  54 0020 FFF7FEFF 		bl	L9963E_init
  55              	.LVL0:
  34:Core/Src/l9963e_utils.c ****   //L9963E_init(&h9l, interfaceH, L9963E_SLAVES_N);
  35:Core/Src/l9963e_utils.c ****   //L9963E_addressing_procedure(&h9l, 0b11, 0, 0, 1);
  36:Core/Src/l9963e_utils.c ****   L9963E_addressing_procedure(&h9l, 0b00, 1, 0, 1);
  56              		.loc 1 36 3 view .LVU2
  57 0024 0127     		movs	r7, #1
  58 0026 0097     		str	r7, [sp]
  59 0028 0023     		movs	r3, #0
  60 002a 3A46     		mov	r2, r7
  61 002c 1946     		mov	r1, r3
  62 002e 2846     		mov	r0, r5
  63 0030 FFF7FEFF 		bl	L9963E_addressing_procedure
  64              	.LVL1:
  37:Core/Src/l9963e_utils.c **** 
  38:Core/Src/l9963e_utils.c ****     //configurazione dei gpio sulle board slaves
  39:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef gpio9_3_conf_reg = {.generic = L9963E_GPIO9_3_CONF_DEFAULT};
  65              		.loc 1 39 5 view .LVU3
  66              		.loc 1 39 33 is_stmt 0 view .LVU4
  67 0034 4FF42043 		mov	r3, #40960
  68 0038 0F93     		str	r3, [sp, #60]
  40:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO3_CONFIG = 0b00;
  69              		.loc 1 40 5 is_stmt 1 view .LVU5
  41:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO4_CONFIG = 00;
  70              		.loc 1 41 5 view .LVU6
  42:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO5_CONFIG = 00;
  71              		.loc 1 42 5 view .LVU7
  43:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO6_CONFIG = 00;
  72              		.loc 1 43 5 view .LVU8
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 3


  44:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO7_CONFIG = 01;
  73              		.loc 1 44 5 view .LVU9
  74              		.loc 1 44 48 is_stmt 0 view .LVU10
  75 003a 9DF83D30 		ldrb	r3, [sp, #61]	@ zero_extendqisi2
  76 003e 67F30513 		bfi	r3, r7, #4, #2
  77 0042 8DF83D30 		strb	r3, [sp, #61]
  45:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO8_CONFIG = 00;
  78              		.loc 1 45 5 is_stmt 1 view .LVU11
  79              		.loc 1 45 48 is_stmt 0 view .LVU12
  80 0046 DBB2     		uxtb	r3, r3
  81 0048 23F0C003 		bic	r3, r3, #192
  82 004c 8DF83D30 		strb	r3, [sp, #61]
  46:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO9_CONFIG = 00;
  83              		.loc 1 46 5 is_stmt 1 view .LVU13
  47:Core/Src/l9963e_utils.c ****     gpio9_3_conf_reg.GPIO9_3_CONF.GPIO7_WUP_EN = 00;
  84              		.loc 1 47 5 view .LVU14
  48:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_GPIO9_3_CONF_ADDR, &gpi
  85              		.loc 1 48 5 view .LVU15
  86 0050 0A26     		movs	r6, #10
  87 0052 0096     		str	r6, [sp]
  88 0054 0FAB     		add	r3, sp, #60
  89 0056 1422     		movs	r2, #20
  90 0058 0021     		movs	r1, #0
  91 005a 2846     		mov	r0, r5
  92 005c FFF7FEFF 		bl	L9963E_DRV_reg_write
  93              	.LVL2:
  49:Core/Src/l9963e_utils.c **** 
  50:Core/Src/l9963e_utils.c ****     // Configuring cells overvoltage/undervoltage thresholds
  51:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef vcell_thresh_uv_ov_reg      = {.generic = L9963E_VCELL_THRESH_UV_OV
  94              		.loc 1 51 5 view .LVU16
  95              		.loc 1 51 33 is_stmt 0 view .LVU17
  96 0060 0024     		movs	r4, #0
  97 0062 0E94     		str	r4, [sp, #56]
  52:Core/Src/l9963e_utils.c ****     vcell_thresh_uv_ov_reg.VCELL_THRESH_UV_OV.threshVcellOV = 0xff;
  98              		.loc 1 52 5 is_stmt 1 view .LVU18
  99              		.loc 1 52 61 is_stmt 0 view .LVU19
 100 0064 4FF0FF09 		mov	r9, #255
 101 0068 8DF83990 		strb	r9, [sp, #57]
  53:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 102              		.loc 1 53 5 is_stmt 1 view .LVU20
 103 006c 0096     		str	r6, [sp]
 104 006e 0EAB     		add	r3, sp, #56
 105 0070 0B22     		movs	r2, #11
 106 0072 2146     		mov	r1, r4
 107 0074 2846     		mov	r0, r5
 108 0076 FFF7FEFF 		bl	L9963E_DRV_reg_write
 109              	.LVL3:
  54:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_VCELL_THRESH_UV_OV_ADDR, &vcell_thresh_u
  55:Core/Src/l9963e_utils.c **** 
  56:Core/Src/l9963e_utils.c ****     // Configuring total voltage tresholds
  57:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef vbat_sum_th_reg  = {.generic = L9963E_VBATT_SUM_TH_DEFAULT};
 110              		.loc 1 57 5 view .LVU21
 111              		.loc 1 57 33 is_stmt 0 view .LVU22
 112 007a 0D94     		str	r4, [sp, #52]
  58:Core/Src/l9963e_utils.c ****     vbat_sum_th_reg.VBATT_SUM_TH.VBATT_SUM_OV_TH = 0xff;
 113              		.loc 1 58 5 is_stmt 1 view .LVU23
 114              		.loc 1 58 50 is_stmt 0 view .LVU24
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 4


 115 007c 8DF83590 		strb	r9, [sp, #53]
  59:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 116              		.loc 1 59 5 is_stmt 1 view .LVU25
 117 0080 0096     		str	r6, [sp]
 118 0082 0DAB     		add	r3, sp, #52
 119 0084 0C22     		movs	r2, #12
 120 0086 2146     		mov	r1, r4
 121 0088 2846     		mov	r0, r5
 122 008a FFF7FEFF 		bl	L9963E_DRV_reg_write
 123              	.LVL4:
  60:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_VBATT_SUM_TH_ADDR, &vbat_sum_th_reg, 10)
  61:Core/Src/l9963e_utils.c **** 
  62:Core/Src/l9963e_utils.c ****     //* BALANCING REGISTER SETTINGS
  63:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal1_reg = {.generic = L9963E_BAL_1_DEFAULT};
 124              		.loc 1 63 5 view .LVU26
 125              		.loc 1 63 33 is_stmt 0 view .LVU27
 126 008e 0C94     		str	r4, [sp, #48]
  64:Core/Src/l9963e_utils.c ****     bal1_reg.Bal_1.bal_stop = 1;
 127              		.loc 1 64 5 is_stmt 1 view .LVU28
 128              		.loc 1 64 29 is_stmt 0 view .LVU29
 129 0090 9DF83130 		ldrb	r3, [sp, #49]	@ zero_extendqisi2
 130 0094 43F04003 		orr	r3, r3, #64
 131 0098 8DF83130 		strb	r3, [sp, #49]
  65:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 132              		.loc 1 65 5 is_stmt 1 view .LVU30
 133 009c 0096     		str	r6, [sp]
 134 009e 0CAB     		add	r3, sp, #48
 135 00a0 0322     		movs	r2, #3
 136 00a2 2146     		mov	r1, r4
 137 00a4 2846     		mov	r0, r5
 138 00a6 FFF7FEFF 		bl	L9963E_DRV_reg_write
 139              	.LVL5:
  66:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_reg, 10);
  67:Core/Src/l9963e_utils.c ****     
  68:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal2_reg = {.generic = L9963E_BAL_2_DEFAULT};
 140              		.loc 1 68 5 view .LVU31
 141              		.loc 1 68 33 is_stmt 0 view .LVU32
 142 00aa 4FF48033 		mov	r3, #65536
 143 00ae 0B93     		str	r3, [sp, #44]
  69:Core/Src/l9963e_utils.c ****     bal2_reg.Bal_2.Balmode = 1;
 144              		.loc 1 69 5 is_stmt 1 view .LVU33
  70:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 145              		.loc 1 70 5 view .LVU34
 146 00b0 0096     		str	r6, [sp]
 147 00b2 0BAB     		add	r3, sp, #44
 148 00b4 0422     		movs	r2, #4
 149 00b6 2146     		mov	r1, r4
 150 00b8 2846     		mov	r0, r5
 151 00ba FFF7FEFF 		bl	L9963E_DRV_reg_write
 152              	.LVL6:
  71:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_2_ADDR, &bal2_reg, 10);
  72:Core/Src/l9963e_utils.c ****     
  73:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal3_reg = {.generic = L9963E_BAL_3_DEFAULT};
 153              		.loc 1 73 5 view .LVU35
 154              		.loc 1 73 33 is_stmt 0 view .LVU36
 155 00be 0A94     		str	r4, [sp, #40]
  74:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 5


 156              		.loc 1 74 5 is_stmt 1 view .LVU37
 157 00c0 0096     		str	r6, [sp]
 158 00c2 0AAB     		add	r3, sp, #40
 159 00c4 0522     		movs	r2, #5
 160 00c6 2146     		mov	r1, r4
 161 00c8 2846     		mov	r0, r5
 162 00ca FFF7FEFF 		bl	L9963E_DRV_reg_write
 163              	.LVL7:
  75:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_3_ADDR, &bal3_reg, 10);
  76:Core/Src/l9963e_utils.c ****     
  77:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal4_reg = {.generic = L9963E_BAL_4_DEFAULT};
 164              		.loc 1 77 5 view .LVU38
 165              		.loc 1 77 33 is_stmt 0 view .LVU39
 166 00ce 0994     		str	r4, [sp, #36]
  78:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 167              		.loc 1 78 5 is_stmt 1 view .LVU40
 168 00d0 0096     		str	r6, [sp]
 169 00d2 09AB     		add	r3, sp, #36
 170 00d4 0622     		movs	r2, #6
 171 00d6 2146     		mov	r1, r4
 172 00d8 2846     		mov	r0, r5
 173 00da FFF7FEFF 		bl	L9963E_DRV_reg_write
 174              	.LVL8:
  79:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_4_ADDR, &bal4_reg, 10);
  80:Core/Src/l9963e_utils.c ****     
  81:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal5_reg = {.generic = L9963E_BAL_5_DEFAULT};
 175              		.loc 1 81 5 view .LVU41
 176              		.loc 1 81 33 is_stmt 0 view .LVU42
 177 00de 0894     		str	r4, [sp, #32]
  82:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 178              		.loc 1 82 5 is_stmt 1 view .LVU43
 179 00e0 0096     		str	r6, [sp]
 180 00e2 08AB     		add	r3, sp, #32
 181 00e4 0722     		movs	r2, #7
 182 00e6 2146     		mov	r1, r4
 183 00e8 2846     		mov	r0, r5
 184 00ea FFF7FEFF 		bl	L9963E_DRV_reg_write
 185              	.LVL9:
  83:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_5_ADDR, &bal5_reg, 10);
  84:Core/Src/l9963e_utils.c ****     
  85:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal6_reg = {.generic = L9963E_BAL_6_DEFAULT};
 186              		.loc 1 85 5 view .LVU44
 187              		.loc 1 85 33 is_stmt 0 view .LVU45
 188 00ee 0794     		str	r4, [sp, #28]
  86:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 189              		.loc 1 86 5 is_stmt 1 view .LVU46
 190 00f0 0096     		str	r6, [sp]
 191 00f2 07AB     		add	r3, sp, #28
 192 00f4 0822     		movs	r2, #8
 193 00f6 2146     		mov	r1, r4
 194 00f8 2846     		mov	r0, r5
 195 00fa FFF7FEFF 		bl	L9963E_DRV_reg_write
 196              	.LVL10:
  87:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_6_ADDR, &bal6_reg, 10);
  88:Core/Src/l9963e_utils.c ****     
  89:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal7_reg = {.generic = L9963E_BAL_7_DEFAULT};
 197              		.loc 1 89 5 view .LVU47
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 6


 198              		.loc 1 89 33 is_stmt 0 view .LVU48
 199 00fe 0694     		str	r4, [sp, #24]
  90:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 200              		.loc 1 90 5 is_stmt 1 view .LVU49
 201 0100 0096     		str	r6, [sp]
 202 0102 06AB     		add	r3, sp, #24
 203 0104 0922     		movs	r2, #9
 204 0106 2146     		mov	r1, r4
 205 0108 2846     		mov	r0, r5
 206 010a FFF7FEFF 		bl	L9963E_DRV_reg_write
 207              	.LVL11:
  91:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_7_ADDR, &bal7_reg, 10);
  92:Core/Src/l9963e_utils.c ****     
  93:Core/Src/l9963e_utils.c ****     L9963E_RegisterUnionTypeDef bal8_reg = {.generic = L9963E_BAL_8_DEFAULT};
 208              		.loc 1 93 5 view .LVU50
 209              		.loc 1 93 33 is_stmt 0 view .LVU51
 210 010e 0594     		str	r4, [sp, #20]
  94:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(
 211              		.loc 1 94 5 is_stmt 1 view .LVU52
 212 0110 0096     		str	r6, [sp]
 213 0112 05AB     		add	r3, sp, #20
 214 0114 3246     		mov	r2, r6
 215 0116 2146     		mov	r1, r4
 216 0118 2846     		mov	r0, r5
 217 011a FFF7FEFF 		bl	L9963E_DRV_reg_write
 218              	.LVL12:
  95:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_8_ADDR, &bal8_reg, 10);
  96:Core/Src/l9963e_utils.c ****     
  97:Core/Src/l9963e_utils.c ****     //abilitazione del regolatore VTREF
  98:Core/Src/l9963e_utils.c ****     L9963E_enable_vref(&h9l, L9963E_DEVICE_BROADCAST, 1);
 219              		.loc 1 98 5 view .LVU53
 220 011e 3A46     		mov	r2, r7
 221 0120 2146     		mov	r1, r4
 222 0122 2846     		mov	r0, r5
 223 0124 FFF7FEFF 		bl	L9963E_enable_vref
 224              	.LVL13:
  99:Core/Src/l9963e_utils.c ****     
 100:Core/Src/l9963e_utils.c ****     //impostazione timeout comunicazione ISOSPI per errori
 101:Core/Src/l9963e_utils.c ****     L9963E_setCommTimeout(&h9l, _1024MS, L9963E_DEVICE_BROADCAST, 0);
 225              		.loc 1 101 5 view .LVU54
 226 0128 2346     		mov	r3, r4
 227 012a 2246     		mov	r2, r4
 228 012c 4146     		mov	r1, r8
 229 012e 2846     		mov	r0, r5
 230 0130 FFF7FEFF 		bl	L9963E_setCommTimeout
 231              	.LVL14:
 102:Core/Src/l9963e_utils.c ****  
 103:Core/Src/l9963e_utils.c ****     //comunicazione alle board slaves quali celle sono attive
 104:Core/Src/l9963e_utils.c ****     L9963E_set_enabled_cells(&h9l, L9963E_DEVICE_BROADCAST, ENABLED_CELLS);
 232              		.loc 1 104 5 view .LVU55
 233 0134 43F6FF72 		movw	r2, #16383
 234 0138 2146     		mov	r1, r4
 235 013a 2846     		mov	r0, r5
 236 013c FFF7FEFF 		bl	L9963E_set_enabled_cells
 237              	.LVL15:
 105:Core/Src/l9963e_utils.c **** }
 238              		.loc 1 105 1 is_stmt 0 view .LVU56
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 7


 239 0140 11B0     		add	sp, sp, #68
 240              		.cfi_def_cfa_offset 28
 241              		@ sp needed
 242 0142 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 243              	.L4:
 244 0146 00BF     		.align	2
 245              	.L3:
 246 0148 00000000 		.word	interfaceL
 247 014c 00000000 		.word	h9l
 248              		.cfi_endproc
 249              	.LFE137:
 251              		.section	.text.L9963E_utils_read_cells,"ax",%progbits
 252              		.align	1
 253              		.global	L9963E_utils_read_cells
 254              		.syntax unified
 255              		.thumb
 256              		.thumb_func
 258              	L9963E_utils_read_cells:
 259              	.LVL16:
 260              	.LFB138:
 106:Core/Src/l9963e_utils.c **** 
 107:Core/Src/l9963e_utils.c **** //* first parameter: module_id in the chain (1 to L9963E_SLAVES_N)
 108:Core/Src/l9963e_utils.c **** //* second parameter: 1 for read gpsios, 0 for not
 109:Core/Src/l9963e_utils.c **** void L9963E_utils_read_cells(uint8_t module_id, uint8_t read_gpio) {
 261              		.loc 1 109 68 is_stmt 1 view -0
 262              		.cfi_startproc
 263              		@ args = 0, pretend = 0, frame = 16
 264              		@ frame_needed = 0, uses_anonymous_args = 0
 265              		.loc 1 109 68 is_stmt 0 view .LVU58
 266 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 267              		.cfi_def_cfa_offset 28
 268              		.cfi_offset 4, -28
 269              		.cfi_offset 5, -24
 270              		.cfi_offset 6, -20
 271              		.cfi_offset 7, -16
 272              		.cfi_offset 8, -12
 273              		.cfi_offset 9, -8
 274              		.cfi_offset 14, -4
 275 0004 87B0     		sub	sp, sp, #28
 276              		.cfi_def_cfa_offset 56
 277 0006 0546     		mov	r5, r0
 278 0008 8946     		mov	r9, r1
 110:Core/Src/l9963e_utils.c ****   L9963E_StatusTypeDef e;
 279              		.loc 1 110 3 is_stmt 1 view .LVU59
 111:Core/Src/l9963e_utils.c ****   uint8_t c_done;
 280              		.loc 1 111 3 view .LVU60
 112:Core/Src/l9963e_utils.c ****   uint8_t reading_retry_counter = 0;
 281              		.loc 1 112 3 view .LVU61
 282              	.LVL17:
 283              	.L6:
 113:Core/Src/l9963e_utils.c ****   do {
 284              		.loc 1 113 3 view .LVU62
 114:Core/Src/l9963e_utils.c ****     L9963E_poll_conversion(&h9l, module_id, &c_done);
 285              		.loc 1 114 5 view .LVU63
 286 000a 0DF11702 		add	r2, sp, #23
 287 000e 2946     		mov	r1, r5
 288 0010 3F48     		ldr	r0, .L19
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 8


 289 0012 FFF7FEFF 		bl	L9963E_poll_conversion
 290              	.LVL18:
 115:Core/Src/l9963e_utils.c ****   } while (!c_done);
 291              		.loc 1 115 12 discriminator 1 view .LVU64
 292 0016 9DF81730 		ldrb	r3, [sp, #23]	@ zero_extendqisi2
 293 001a 002B     		cmp	r3, #0
 294 001c F5D0     		beq	.L6
 116:Core/Src/l9963e_utils.c ****   L9963E_start_conversion(&h9l, module_id, 0b000, read_gpio ? L9963E_GPIO_CONV : 0);
 295              		.loc 1 116 3 view .LVU65
 296 001e B9F10003 		subs	r3, r9, #0
 297 0022 18BF     		it	ne
 298 0024 0123     		movne	r3, #1
 299 0026 0022     		movs	r2, #0
 300 0028 2946     		mov	r1, r5
 301 002a 3948     		ldr	r0, .L19
 302 002c FFF7FEFF 		bl	L9963E_start_conversion
 303              	.LVL19:
 117:Core/Src/l9963e_utils.c ****   
 118:Core/Src/l9963e_utils.c ****   uint16_t voltage = 0;
 304              		.loc 1 118 3 view .LVU66
 305              		.loc 1 118 12 is_stmt 0 view .LVU67
 306 0030 0024     		movs	r4, #0
 307 0032 ADF81440 		strh	r4, [sp, #20]	@ movhi
 119:Core/Src/l9963e_utils.c ****   uint32_t voltage32 = 0;
 308              		.loc 1 119 3 is_stmt 1 view .LVU68
 309              		.loc 1 119 12 is_stmt 0 view .LVU69
 310 0036 0494     		str	r4, [sp, #16]
 120:Core/Src/l9963e_utils.c ****   uint8_t d_rdy = 0;
 311              		.loc 1 120 3 is_stmt 1 view .LVU70
 312              		.loc 1 120 11 is_stmt 0 view .LVU71
 313 0038 8DF80F40 		strb	r4, [sp, #15]
 121:Core/Src/l9963e_utils.c ****   uint8_t i = module_id-1;
 314              		.loc 1 121 3 is_stmt 1 view .LVU72
 315              		.loc 1 121 11 is_stmt 0 view .LVU73
 316 003c 05F1FF38 		add	r8, r5, #-1
 317 0040 5FFA88F8 		uxtb	r8, r8
 318              	.LVL20:
 122:Core/Src/l9963e_utils.c ****   for(uint8_t cells_addresses_index = 0; cells_addresses_index < L9963E_CELLS_N; cells_addresses_in
 319              		.loc 1 122 3 is_stmt 1 view .LVU74
 320              	.LBB2:
 321              		.loc 1 122 7 view .LVU75
 322              		.loc 1 122 3 is_stmt 0 view .LVU76
 323 0044 20E0     		b	.L7
 324              	.LVL21:
 325              	.L16:
 123:Core/Src/l9963e_utils.c ****     reading_retry_counter = 0;
 124:Core/Src/l9963e_utils.c ****     do {
 125:Core/Src/l9963e_utils.c ****       e = L9963E_read_cell_voltage(&h9l, module_id, cells_addresses[cells_addresses_index], &voltag
 126:Core/Src/l9963e_utils.c ****     } while(e != L9963E_OK || !d_rdy || reading_retry_counter++ < MAX_READING_RETRY_L9963E_CELLS);
 326              		.loc 1 126 62 discriminator 4 view .LVU77
 327 0046 1F46     		mov	r7, r3
 328              	.LVL22:
 329              	.L9:
 124:Core/Src/l9963e_utils.c ****       e = L9963E_read_cell_voltage(&h9l, module_id, cells_addresses[cells_addresses_index], &voltag
 330              		.loc 1 124 5 is_stmt 1 view .LVU78
 125:Core/Src/l9963e_utils.c ****     } while(e != L9963E_OK || !d_rdy || reading_retry_counter++ < MAX_READING_RETRY_L9963E_CELLS);
 331              		.loc 1 125 7 view .LVU79
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 9


 125:Core/Src/l9963e_utils.c ****     } while(e != L9963E_OK || !d_rdy || reading_retry_counter++ < MAX_READING_RETRY_L9963E_CELLS);
 332              		.loc 1 125 68 is_stmt 0 view .LVU80
 333 0048 324B     		ldr	r3, .L19+4
 334 004a 33F81420 		ldrh	r2, [r3, r4, lsl #1]
 125:Core/Src/l9963e_utils.c ****     } while(e != L9963E_OK || !d_rdy || reading_retry_counter++ < MAX_READING_RETRY_L9963E_CELLS);
 335              		.loc 1 125 11 view .LVU81
 336 004e 0DF10F03 		add	r3, sp, #15
 337 0052 0093     		str	r3, [sp]
 338 0054 05AB     		add	r3, sp, #20
 339 0056 2946     		mov	r1, r5
 340 0058 2D48     		ldr	r0, .L19
 341 005a FFF7FEFF 		bl	L9963E_read_cell_voltage
 342              	.LVL23:
 343              		.loc 1 126 38 is_stmt 1 discriminator 5 view .LVU82
 344 005e 0028     		cmp	r0, #0
 345 0060 F2D1     		bne	.L9
 346              		.loc 1 126 31 is_stmt 0 discriminator 2 view .LVU83
 347 0062 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 348              		.loc 1 126 28 discriminator 2 view .LVU84
 349 0066 002B     		cmp	r3, #0
 350 0068 EED0     		beq	.L9
 351              		.loc 1 126 62 discriminator 4 view .LVU85
 352 006a 7B1C     		adds	r3, r7, #1
 353 006c DBB2     		uxtb	r3, r3
 354              	.LVL24:
 355              		.loc 1 126 38 discriminator 4 view .LVU86
 356 006e 092F     		cmp	r7, #9
 357 0070 E9D9     		bls	.L16
 127:Core/Src/l9963e_utils.c ****     if(e == L9963E_OK)
 358              		.loc 1 127 5 is_stmt 1 view .LVU87
 128:Core/Src/l9963e_utils.c ****       vcellsm[i][cells_addresses_index] = voltage;
 359              		.loc 1 128 7 view .LVU88
 360              		.loc 1 128 41 is_stmt 0 view .LVU89
 361 0072 C8EBC803 		rsb	r3, r8, r8, lsl #3
 362              	.LVL25:
 363              		.loc 1 128 41 view .LVU90
 364 0076 04EB4306 		add	r6, r4, r3, lsl #1
 365 007a 274B     		ldr	r3, .L19+8
 366 007c BDF81420 		ldrh	r2, [sp, #20]
 367 0080 23F81620 		strh	r2, [r3, r6, lsl #1]	@ movhi
 122:Core/Src/l9963e_utils.c ****     reading_retry_counter = 0;
 368              		.loc 1 122 103 is_stmt 1 discriminator 2 view .LVU91
 369 0084 0134     		adds	r4, r4, #1
 370              	.LVL26:
 122:Core/Src/l9963e_utils.c ****     reading_retry_counter = 0;
 371              		.loc 1 122 103 is_stmt 0 discriminator 2 view .LVU92
 372 0086 E4B2     		uxtb	r4, r4
 373              	.LVL27:
 374              	.L7:
 122:Core/Src/l9963e_utils.c ****     reading_retry_counter = 0;
 375              		.loc 1 122 64 is_stmt 1 discriminator 1 view .LVU93
 376 0088 0D2C     		cmp	r4, #13
 377 008a 01D8     		bhi	.L10
 123:Core/Src/l9963e_utils.c ****     do {
 378              		.loc 1 123 27 is_stmt 0 view .LVU94
 379 008c 0027     		movs	r7, #0
 380 008e DBE7     		b	.L9
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 10


 381              	.LVL28:
 382              	.L10:
 123:Core/Src/l9963e_utils.c ****     do {
 383              		.loc 1 123 27 view .LVU95
 384              	.LBE2:
 129:Core/Src/l9963e_utils.c ****     else
 130:Core/Src/l9963e_utils.c ****       vcellsm[i][cells_addresses_index] = CELL_VOLTAGE_READ_ERROR;
 131:Core/Src/l9963e_utils.c ****   }
 132:Core/Src/l9963e_utils.c **** 
 133:Core/Src/l9963e_utils.c ****     /******* READING TOTAL BATTERY VOLTAGES *******/
 134:Core/Src/l9963e_utils.c ****     //* for each node, read from two registers: one is the sum of all cell voltages, the other is t
 135:Core/Src/l9963e_utils.c ****     do {
 385              		.loc 1 135 5 is_stmt 1 view .LVU96
 136:Core/Src/l9963e_utils.c ****         e = L9963E_read_batt_voltage(&h9l, module_id, ((uint16_t *)&(vtot[module_id-1])), ((uint32_
 386              		.loc 1 136 9 view .LVU97
 387              		.loc 1 136 84 is_stmt 0 view .LVU98
 388 0090 6A1E     		subs	r2, r5, #1
 389              		.loc 1 136 13 view .LVU99
 390 0092 224B     		ldr	r3, .L19+12
 391 0094 03EB8203 		add	r3, r3, r2, lsl #2
 392 0098 2149     		ldr	r1, .L19+16
 393 009a 01EB4202 		add	r2, r1, r2, lsl #1
 394 009e 2946     		mov	r1, r5
 395 00a0 1B48     		ldr	r0, .L19
 396 00a2 FFF7FEFF 		bl	L9963E_read_batt_voltage
 397              	.LVL29:
 137:Core/Src/l9963e_utils.c ****     } while (e != L9963E_OK);
 398              		.loc 1 137 16 is_stmt 1 discriminator 1 view .LVU100
 399 00a6 0446     		mov	r4, r0
 400 00a8 0028     		cmp	r0, #0
 401 00aa F1D1     		bne	.L10
 138:Core/Src/l9963e_utils.c ****   
 139:Core/Src/l9963e_utils.c ****   /******* READING BATTERY CURRENT *******/
 140:Core/Src/l9963e_utils.c ****   //? this because the shunt is only on the first node
 141:Core/Src/l9963e_utils.c ****   if(module_id == 1){
 402              		.loc 1 141 3 view .LVU101
 403              		.loc 1 141 5 is_stmt 0 view .LVU102
 404 00ac 012D     		cmp	r5, #1
 405 00ae 03D0     		beq	.L12
 406              	.L11:
 142:Core/Src/l9963e_utils.c ****     uint8_t reading_retry_counter = 0;
 143:Core/Src/l9963e_utils.c ****     do {
 144:Core/Src/l9963e_utils.c ****       e = L9963E_read_current_mA(&h9l, module_id, L9963E_Ibattery_calib_ADDR, &voltage32);
 145:Core/Src/l9963e_utils.c ****     } while (e != L9963E_OK ||  reading_retry_counter++ > MAX_READING_RETRY_L9963E_GPIO);
 146:Core/Src/l9963e_utils.c ****     if(e!=L9963E_OK){
 147:Core/Src/l9963e_utils.c ****       vbattery_current = 0;
 148:Core/Src/l9963e_utils.c ****     }else{
 149:Core/Src/l9963e_utils.c ****       vbattery_current = voltage32;
 150:Core/Src/l9963e_utils.c ****     }
 151:Core/Src/l9963e_utils.c ****   }
 152:Core/Src/l9963e_utils.c ****   
 153:Core/Src/l9963e_utils.c ****     /******* READING GPIO VOLTAGES *******/
 154:Core/Src/l9963e_utils.c ****     
 155:Core/Src/l9963e_utils.c ****     if (!read_gpio)
 407              		.loc 1 155 5 is_stmt 1 view .LVU103
 408              		.loc 1 155 8 is_stmt 0 view .LVU104
 409 00b0 B9F1000F 		cmp	r9, #0
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 11


 410 00b4 27D1     		bne	.L13
 411 00b6 28E0     		b	.L5
 412              	.L12:
 413              	.LVL30:
 414              	.LBB3:
 143:Core/Src/l9963e_utils.c ****       e = L9963E_read_current_mA(&h9l, module_id, L9963E_Ibattery_calib_ADDR, &voltage32);
 415              		.loc 1 143 5 is_stmt 1 view .LVU105
 144:Core/Src/l9963e_utils.c ****     } while (e != L9963E_OK ||  reading_retry_counter++ > MAX_READING_RETRY_L9963E_GPIO);
 416              		.loc 1 144 7 view .LVU106
 144:Core/Src/l9963e_utils.c ****     } while (e != L9963E_OK ||  reading_retry_counter++ > MAX_READING_RETRY_L9963E_GPIO);
 417              		.loc 1 144 11 is_stmt 0 view .LVU107
 418 00b8 04AB     		add	r3, sp, #16
 419 00ba 3022     		movs	r2, #48
 420 00bc 2946     		mov	r1, r5
 421 00be 1448     		ldr	r0, .L19
 422              	.LVL31:
 144:Core/Src/l9963e_utils.c ****     } while (e != L9963E_OK ||  reading_retry_counter++ > MAX_READING_RETRY_L9963E_GPIO);
 423              		.loc 1 144 11 view .LVU108
 424 00c0 FFF7FEFF 		bl	L9963E_read_current_mA
 425              	.LVL32:
 145:Core/Src/l9963e_utils.c ****     if(e!=L9963E_OK){
 426              		.loc 1 145 29 is_stmt 1 discriminator 3 view .LVU109
 427 00c4 0028     		cmp	r0, #0
 428 00c6 F7D1     		bne	.L12
 429              	.LVL33:
 146:Core/Src/l9963e_utils.c ****       vbattery_current = 0;
 430              		.loc 1 146 5 view .LVU110
 149:Core/Src/l9963e_utils.c ****     }
 431              		.loc 1 149 7 view .LVU111
 149:Core/Src/l9963e_utils.c ****     }
 432              		.loc 1 149 24 is_stmt 0 view .LVU112
 433 00c8 164B     		ldr	r3, .L19+20
 434 00ca 049A     		ldr	r2, [sp, #16]
 435 00cc 1A80     		strh	r2, [r3]	@ movhi
 436 00ce EFE7     		b	.L11
 437              	.LVL34:
 438              	.L15:
 149:Core/Src/l9963e_utils.c ****     }
 439              		.loc 1 149 24 view .LVU113
 440              	.LBE3:
 441              	.LBB4:
 156:Core/Src/l9963e_utils.c ****         return;
 157:Core/Src/l9963e_utils.c **** 
 158:Core/Src/l9963e_utils.c ****     for(uint8_t cell_address_index=0; cell_address_index<L9963E_CELLS_N; cell_address_index++){
 159:Core/Src/l9963e_utils.c ****       reading_retry_counter = 0;
 160:Core/Src/l9963e_utils.c ****       do {
 442              		.loc 1 160 7 is_stmt 1 view .LVU114
 161:Core/Src/l9963e_utils.c ****         e = L9963E_read_gpio_voltage(&h9l, module_id, gpio_addresses[cell_address_index], &voltage,
 443              		.loc 1 161 9 view .LVU115
 444              		.loc 1 161 13 is_stmt 0 view .LVU116
 445 00d0 154B     		ldr	r3, .L19+24
 446 00d2 13F81420 		ldrb	r2, [r3, r4, lsl #1]	@ zero_extendqisi2
 447 00d6 0DF10F03 		add	r3, sp, #15
 448 00da 0093     		str	r3, [sp]
 449 00dc 05AB     		add	r3, sp, #20
 450 00de 2946     		mov	r1, r5
 451 00e0 0B48     		ldr	r0, .L19
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 12


 452              	.LVL35:
 453              		.loc 1 161 13 view .LVU117
 454 00e2 FFF7FEFF 		bl	L9963E_read_gpio_voltage
 455              	.LVL36:
 162:Core/Src/l9963e_utils.c ****       } while (e != L9963E_OK || !d_rdy || reading_retry_counter++ > MAX_READING_RETRY_L9963E_GPIO)
 456              		.loc 1 162 41 is_stmt 1 discriminator 5 view .LVU118
 457 00e6 0028     		cmp	r0, #0
 458 00e8 F2D1     		bne	.L15
 459              		.loc 1 162 34 is_stmt 0 discriminator 2 view .LVU119
 460 00ea 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 461              		.loc 1 162 31 discriminator 2 view .LVU120
 462 00ee 002B     		cmp	r3, #0
 463 00f0 EED0     		beq	.L15
 464              	.LVL37:
 163:Core/Src/l9963e_utils.c **** 
 164:Core/Src/l9963e_utils.c ****       if(e== L9963E_OK)
 465              		.loc 1 164 7 is_stmt 1 view .LVU121
 165:Core/Src/l9963e_utils.c ****         vgpio[i][cell_address_index] = voltage;
 466              		.loc 1 165 9 view .LVU122
 467              		.loc 1 165 38 is_stmt 0 view .LVU123
 468 00f2 08EB8803 		add	r3, r8, r8, lsl #2
 469 00f6 2344     		add	r3, r3, r4
 470 00f8 0C4A     		ldr	r2, .L19+28
 471 00fa BDF81410 		ldrh	r1, [sp, #20]
 472 00fe 22F81310 		strh	r1, [r2, r3, lsl #1]	@ movhi
 158:Core/Src/l9963e_utils.c ****       reading_retry_counter = 0;
 473              		.loc 1 158 92 is_stmt 1 discriminator 2 view .LVU124
 474 0102 0134     		adds	r4, r4, #1
 475              	.LVL38:
 158:Core/Src/l9963e_utils.c ****       reading_retry_counter = 0;
 476              		.loc 1 158 92 is_stmt 0 discriminator 2 view .LVU125
 477 0104 E4B2     		uxtb	r4, r4
 478              	.LVL39:
 479              	.L13:
 158:Core/Src/l9963e_utils.c ****       reading_retry_counter = 0;
 480              		.loc 1 158 57 is_stmt 1 discriminator 1 view .LVU126
 481 0106 0D2C     		cmp	r4, #13
 482 0108 E2D9     		bls	.L15
 483              	.LVL40:
 484              	.L5:
 158:Core/Src/l9963e_utils.c ****       reading_retry_counter = 0;
 485              		.loc 1 158 57 is_stmt 0 discriminator 1 view .LVU127
 486              	.LBE4:
 166:Core/Src/l9963e_utils.c ****       else
 167:Core/Src/l9963e_utils.c ****         vgpio[i][cell_address_index] = CELL_TEMPERATURE_READ_ERROR;
 168:Core/Src/l9963e_utils.c ****     }
 169:Core/Src/l9963e_utils.c **** }
 487              		.loc 1 169 1 view .LVU128
 488 010a 07B0     		add	sp, sp, #28
 489              		.cfi_def_cfa_offset 28
 490              		@ sp needed
 491 010c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 492              	.LVL41:
 493              	.L20:
 494              		.loc 1 169 1 view .LVU129
 495              		.align	2
 496              	.L19:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 13


 497 0110 00000000 		.word	h9l
 498 0114 00000000 		.word	cells_addresses
 499 0118 00000000 		.word	vcellsm
 500 011c 00000000 		.word	vsumbatt
 501 0120 00000000 		.word	vtot
 502 0124 00000000 		.word	vbattery_current
 503 0128 00000000 		.word	gpio_addresses
 504 012c 00000000 		.word	vgpio
 505              		.cfi_endproc
 506              	.LFE138:
 508              		.section	.text.L9963E_utils_get_gpios,"ax",%progbits
 509              		.align	1
 510              		.global	L9963E_utils_get_gpios
 511              		.syntax unified
 512              		.thumb
 513              		.thumb_func
 515              	L9963E_utils_get_gpios:
 516              	.LVL42:
 517              	.LFB139:
 170:Core/Src/l9963e_utils.c **** 
 171:Core/Src/l9963e_utils.c **** void L9963E_utils_get_gpios(int16_t* desired_array){
 518              		.loc 1 171 52 is_stmt 1 view -0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              		.loc 1 171 52 is_stmt 0 view .LVU131
 523 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 524              		.cfi_def_cfa_offset 24
 525              		.cfi_offset 3, -24
 526              		.cfi_offset 4, -20
 527              		.cfi_offset 5, -16
 528              		.cfi_offset 6, -12
 529              		.cfi_offset 7, -8
 530              		.cfi_offset 14, -4
 531 0002 0746     		mov	r7, r0
 172:Core/Src/l9963e_utils.c ****   uint8_t k=0;
 532              		.loc 1 172 3 is_stmt 1 view .LVU132
 533              	.LVL43:
 173:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 534              		.loc 1 173 3 view .LVU133
 535              	.LBB5:
 536              		.loc 1 173 7 view .LVU134
 537              		.loc 1 173 15 is_stmt 0 view .LVU135
 538 0004 0026     		movs	r6, #0
 539              	.LBE5:
 172:Core/Src/l9963e_utils.c ****   uint8_t k=0;
 540              		.loc 1 172 11 view .LVU136
 541 0006 3546     		mov	r5, r6
 542              	.LBB8:
 543              		.loc 1 173 3 view .LVU137
 544 0008 12E0     		b	.L22
 545              	.LVL44:
 546              	.L23:
 547              	.LBB6:
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 175:Core/Src/l9963e_utils.c ****       desired_array[k]=ntc_get_centideg_from_raw(vcellsm[i][j]);
 548              		.loc 1 175 7 is_stmt 1 view .LVU138
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 14


 549              		.loc 1 175 24 is_stmt 0 view .LVU139
 550 000a C6EBC603 		rsb	r3, r6, r6, lsl #3
 551 000e 04EB4303 		add	r3, r4, r3, lsl #1
 552 0012 0A4A     		ldr	r2, .L28
 553 0014 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 554 0018 FFF7FEFF 		bl	ntc_get_centideg_from_raw
 555              	.LVL45:
 556              		.loc 1 175 23 discriminator 1 view .LVU140
 557 001c 27F81500 		strh	r0, [r7, r5, lsl #1]	@ movhi
 176:Core/Src/l9963e_utils.c ****       ++k;
 558              		.loc 1 176 7 is_stmt 1 view .LVU141
 559 0020 0135     		adds	r5, r5, #1
 560              	.LVL46:
 561              		.loc 1 176 7 is_stmt 0 view .LVU142
 562 0022 EDB2     		uxtb	r5, r5
 563              	.LVL47:
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 564              		.loc 1 174 39 is_stmt 1 discriminator 3 view .LVU143
 565 0024 0134     		adds	r4, r4, #1
 566              	.LVL48:
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 567              		.loc 1 174 39 is_stmt 0 discriminator 3 view .LVU144
 568 0026 E4B2     		uxtb	r4, r4
 569              	.LVL49:
 570              	.L24:
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 571              		.loc 1 174 22 is_stmt 1 discriminator 1 view .LVU145
 572 0028 042C     		cmp	r4, #4
 573 002a EED9     		bls	.L23
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 574              		.loc 1 174 22 is_stmt 0 discriminator 1 view .LVU146
 575              	.LBE6:
 173:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 576              		.loc 1 173 38 is_stmt 1 discriminator 2 view .LVU147
 577 002c 0136     		adds	r6, r6, #1
 578              	.LVL50:
 173:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 579              		.loc 1 173 38 is_stmt 0 discriminator 2 view .LVU148
 580 002e F6B2     		uxtb	r6, r6
 581              	.LVL51:
 582              	.L22:
 173:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 583              		.loc 1 173 20 is_stmt 1 discriminator 1 view .LVU149
 584 0030 012E     		cmp	r6, #1
 585 0032 01D8     		bhi	.L27
 586              	.LBB7:
 174:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_GPIOS_N;j++){
 587              		.loc 1 174 17 is_stmt 0 view .LVU150
 588 0034 0024     		movs	r4, #0
 589 0036 F7E7     		b	.L24
 590              	.L27:
 591              	.LBE7:
 592              	.LBE8:
 177:Core/Src/l9963e_utils.c ****     }
 178:Core/Src/l9963e_utils.c ****   }
 179:Core/Src/l9963e_utils.c **** }
 593              		.loc 1 179 1 view .LVU151
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 15


 594 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 595              	.LVL52:
 596              	.L29:
 597              		.loc 1 179 1 view .LVU152
 598 003a 00BF     		.align	2
 599              	.L28:
 600 003c 00000000 		.word	vcellsm
 601              		.cfi_endproc
 602              	.LFE139:
 604              		.section	.text.L9963E_utils_get_cell_mv,"ax",%progbits
 605              		.align	1
 606              		.global	L9963E_utils_get_cell_mv
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 611              	L9963E_utils_get_cell_mv:
 612              	.LVL53:
 613              	.LFB141:
 180:Core/Src/l9963e_utils.c **** 
 181:Core/Src/l9963e_utils.c **** void L9963E_utils_get_cells(uint16_t* desired_array){
 182:Core/Src/l9963e_utils.c ****   uint8_t k=0;
 183:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 184:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 185:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 186:Core/Src/l9963e_utils.c ****       ++k;
 187:Core/Src/l9963e_utils.c ****     }
 188:Core/Src/l9963e_utils.c ****   }
 189:Core/Src/l9963e_utils.c **** }
 190:Core/Src/l9963e_utils.c **** 
 191:Core/Src/l9963e_utils.c **** uint16_t L9963E_utils_get_cell_mv(uint16_t raw_cell_voltage) {
 614              		.loc 1 191 62 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 619              		.loc 1 191 62 is_stmt 0 view .LVU154
 620 0000 07EE900A 		vmov	s15, r0	@ int
 192:Core/Src/l9963e_utils.c ****   return (uint16_t)((float)raw_cell_voltage * 89e-3f);
 621              		.loc 1 192 3 is_stmt 1 view .LVU155
 622              		.loc 1 192 21 is_stmt 0 view .LVU156
 623 0004 F8EE677A 		vcvt.f32.u32	s15, s15
 624              		.loc 1 192 45 view .LVU157
 625 0008 9FED047A 		vldr.32	s14, .L31
 626 000c 67EE877A 		vmul.f32	s15, s15, s14
 627              		.loc 1 192 10 view .LVU158
 628 0010 FCEEE77A 		vcvt.u32.f32	s15, s15
 193:Core/Src/l9963e_utils.c **** }
 629              		.loc 1 193 1 view .LVU159
 630 0014 17EE903A 		vmov	r3, s15	@ int
 631 0018 98B2     		uxth	r0, r3
 632              	.LVL54:
 633              		.loc 1 193 1 view .LVU160
 634 001a 7047     		bx	lr
 635              	.L32:
 636              		.align	2
 637              	.L31:
 638 001c A245B63D 		.word	1035355554
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 16


 639              		.cfi_endproc
 640              	.LFE141:
 642              		.section	.text.L9963E_utils_get_cells,"ax",%progbits
 643              		.align	1
 644              		.global	L9963E_utils_get_cells
 645              		.syntax unified
 646              		.thumb
 647              		.thumb_func
 649              	L9963E_utils_get_cells:
 650              	.LVL55:
 651              	.LFB140:
 181:Core/Src/l9963e_utils.c ****   uint8_t k=0;
 652              		.loc 1 181 53 is_stmt 1 view -0
 653              		.cfi_startproc
 654              		@ args = 0, pretend = 0, frame = 0
 655              		@ frame_needed = 0, uses_anonymous_args = 0
 181:Core/Src/l9963e_utils.c ****   uint8_t k=0;
 656              		.loc 1 181 53 is_stmt 0 view .LVU162
 657 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 658              		.cfi_def_cfa_offset 24
 659              		.cfi_offset 3, -24
 660              		.cfi_offset 4, -20
 661              		.cfi_offset 5, -16
 662              		.cfi_offset 6, -12
 663              		.cfi_offset 7, -8
 664              		.cfi_offset 14, -4
 665 0002 0746     		mov	r7, r0
 182:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 666              		.loc 1 182 3 is_stmt 1 view .LVU163
 667              	.LVL56:
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 668              		.loc 1 183 3 view .LVU164
 669              	.LBB9:
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 670              		.loc 1 183 7 view .LVU165
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 671              		.loc 1 183 15 is_stmt 0 view .LVU166
 672 0004 0026     		movs	r6, #0
 673              	.LBE9:
 182:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 674              		.loc 1 182 11 view .LVU167
 675 0006 3546     		mov	r5, r6
 676              	.LBB11:
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 677              		.loc 1 183 3 view .LVU168
 678 0008 01E0     		b	.L34
 679              	.LVL57:
 680              	.L40:
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 681              		.loc 1 183 38 is_stmt 1 discriminator 2 view .LVU169
 682 000a 0136     		adds	r6, r6, #1
 683              	.LVL58:
 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 684              		.loc 1 183 38 is_stmt 0 discriminator 2 view .LVU170
 685 000c F6B2     		uxtb	r6, r6
 686              	.LVL59:
 687              	.L34:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 17


 183:Core/Src/l9963e_utils.c ****     for(uint8_t j=0;j<L9963E_CELLS_N;j++){
 688              		.loc 1 183 20 is_stmt 1 discriminator 1 view .LVU171
 689 000e 012E     		cmp	r6, #1
 690 0010 12D8     		bhi	.L39
 691              	.LBB10:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 692              		.loc 1 184 17 is_stmt 0 view .LVU172
 693 0012 0024     		movs	r4, #0
 694              	.L36:
 695              	.LVL60:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 696              		.loc 1 184 22 is_stmt 1 discriminator 1 view .LVU173
 697 0014 0D2C     		cmp	r4, #13
 698 0016 F8D8     		bhi	.L40
 185:Core/Src/l9963e_utils.c ****       ++k;
 699              		.loc 1 185 7 view .LVU174
 185:Core/Src/l9963e_utils.c ****       ++k;
 700              		.loc 1 185 24 is_stmt 0 view .LVU175
 701 0018 C6EBC603 		rsb	r3, r6, r6, lsl #3
 702 001c 04EB4303 		add	r3, r4, r3, lsl #1
 703 0020 064A     		ldr	r2, .L41
 704 0022 32F81300 		ldrh	r0, [r2, r3, lsl #1]
 705 0026 FFF7FEFF 		bl	L9963E_utils_get_cell_mv
 706              	.LVL61:
 185:Core/Src/l9963e_utils.c ****       ++k;
 707              		.loc 1 185 23 discriminator 1 view .LVU176
 708 002a 27F81500 		strh	r0, [r7, r5, lsl #1]	@ movhi
 186:Core/Src/l9963e_utils.c ****     }
 709              		.loc 1 186 7 is_stmt 1 view .LVU177
 710 002e 0135     		adds	r5, r5, #1
 711              	.LVL62:
 186:Core/Src/l9963e_utils.c ****     }
 712              		.loc 1 186 7 is_stmt 0 view .LVU178
 713 0030 EDB2     		uxtb	r5, r5
 714              	.LVL63:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 715              		.loc 1 184 39 is_stmt 1 discriminator 3 view .LVU179
 716 0032 0134     		adds	r4, r4, #1
 717              	.LVL64:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 718              		.loc 1 184 39 is_stmt 0 discriminator 3 view .LVU180
 719 0034 E4B2     		uxtb	r4, r4
 720              	.LVL65:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 721              		.loc 1 184 39 discriminator 3 view .LVU181
 722 0036 EDE7     		b	.L36
 723              	.LVL66:
 724              	.L39:
 184:Core/Src/l9963e_utils.c ****       desired_array[k]=L9963E_utils_get_cell_mv(vcellsm[i][j]);
 725              		.loc 1 184 39 discriminator 3 view .LVU182
 726              	.LBE10:
 727              	.LBE11:
 189:Core/Src/l9963e_utils.c **** 
 728              		.loc 1 189 1 view .LVU183
 729 0038 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 730              	.LVL67:
 731              	.L42:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 18


 189:Core/Src/l9963e_utils.c **** 
 732              		.loc 1 189 1 view .LVU184
 733 003a 00BF     		.align	2
 734              	.L41:
 735 003c 00000000 		.word	vcellsm
 736              		.cfi_endproc
 737              	.LFE140:
 739              		.section	.text.L9963E_utils_get_batt_mv,"ax",%progbits
 740              		.align	1
 741              		.global	L9963E_utils_get_batt_mv
 742              		.syntax unified
 743              		.thumb
 744              		.thumb_func
 746              	L9963E_utils_get_batt_mv:
 747              	.LFB142:
 194:Core/Src/l9963e_utils.c **** 
 195:Core/Src/l9963e_utils.c **** uint32_t L9963E_utils_get_batt_mv() {
 748              		.loc 1 195 37 is_stmt 1 view -0
 749              		.cfi_startproc
 750              		@ args = 0, pretend = 0, frame = 0
 751              		@ frame_needed = 0, uses_anonymous_args = 0
 752              		@ link register save eliminated.
 196:Core/Src/l9963e_utils.c ****   uint32_t vtot_temp = 0;
 753              		.loc 1 196 3 view .LVU186
 754              	.LVL68:
 197:Core/Src/l9963e_utils.c ****   //uint32_t vsum_temp = 0;
 198:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 755              		.loc 1 198 3 view .LVU187
 756              	.LBB12:
 757              		.loc 1 198 7 view .LVU188
 758              		.loc 1 198 15 is_stmt 0 view .LVU189
 759 0000 0023     		movs	r3, #0
 760              	.LBE12:
 196:Core/Src/l9963e_utils.c ****   uint32_t vtot_temp = 0;
 761              		.loc 1 196 12 view .LVU190
 762 0002 1A46     		mov	r2, r3
 763              	.LBB13:
 764              		.loc 1 198 3 view .LVU191
 765 0004 05E0     		b	.L44
 766              	.LVL69:
 767              	.L45:
 199:Core/Src/l9963e_utils.c ****     vtot_temp += vtot[i];
 768              		.loc 1 199 5 is_stmt 1 view .LVU192
 769              		.loc 1 199 22 is_stmt 0 view .LVU193
 770 0006 0A49     		ldr	r1, .L46
 771 0008 31F81310 		ldrh	r1, [r1, r3, lsl #1]
 772              		.loc 1 199 15 view .LVU194
 773 000c 0A44     		add	r2, r2, r1
 774              	.LVL70:
 198:Core/Src/l9963e_utils.c ****     vtot_temp += vtot[i];
 775              		.loc 1 198 38 is_stmt 1 discriminator 3 view .LVU195
 776 000e 0133     		adds	r3, r3, #1
 777              	.LVL71:
 198:Core/Src/l9963e_utils.c ****     vtot_temp += vtot[i];
 778              		.loc 1 198 38 is_stmt 0 discriminator 3 view .LVU196
 779 0010 DBB2     		uxtb	r3, r3
 780              	.LVL72:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 19


 781              	.L44:
 198:Core/Src/l9963e_utils.c ****     vtot_temp += vtot[i];
 782              		.loc 1 198 20 is_stmt 1 discriminator 1 view .LVU197
 783 0012 012B     		cmp	r3, #1
 784 0014 F7D9     		bls	.L45
 785              	.LBE13:
 200:Core/Src/l9963e_utils.c ****     //vsum_temp += vsumbatt[i];
 201:Core/Src/l9963e_utils.c ****   }
 202:Core/Src/l9963e_utils.c ****   vtot_temp = (uint32_t)((float)vtot_temp * 1.33f);
 786              		.loc 1 202 3 view .LVU198
 787              		.loc 1 202 26 is_stmt 0 view .LVU199
 788 0016 07EE902A 		vmov	s15, r2	@ int
 789 001a F8EE677A 		vcvt.f32.u32	s15, s15
 790              		.loc 1 202 43 view .LVU200
 791 001e 9FED057A 		vldr.32	s14, .L46+4
 792 0022 67EE877A 		vmul.f32	s15, s15, s14
 793              	.LVL73:
 203:Core/Src/l9963e_utils.c ****   //vsum_temp = (uint32_t)((float)vtot_temp * 89e-3f);
 204:Core/Src/l9963e_utils.c ****   return vtot_temp;
 794              		.loc 1 204 3 is_stmt 1 view .LVU201
 205:Core/Src/l9963e_utils.c **** }
 795              		.loc 1 205 1 is_stmt 0 view .LVU202
 796 0026 FCEEE77A 		vcvt.u32.f32	s15, s15
 797              	.LVL74:
 798              		.loc 1 205 1 view .LVU203
 799 002a 17EE900A 		vmov	r0, s15	@ int
 800 002e 7047     		bx	lr
 801              	.L47:
 802              		.align	2
 803              	.L46:
 804 0030 00000000 		.word	vtot
 805 0034 713DAA3F 		.word	1068121457
 806              		.cfi_endproc
 807              	.LFE142:
 809              		.section	.text.L9963E_utils_get_batt_mA,"ax",%progbits
 810              		.align	1
 811              		.global	L9963E_utils_get_batt_mA
 812              		.syntax unified
 813              		.thumb
 814              		.thumb_func
 816              	L9963E_utils_get_batt_mA:
 817              	.LFB143:
 206:Core/Src/l9963e_utils.c **** 
 207:Core/Src/l9963e_utils.c **** int32_t L9963E_utils_get_batt_mA(){
 818              		.loc 1 207 35 is_stmt 1 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822              		@ link register save eliminated.
 208:Core/Src/l9963e_utils.c ****   return (int32_t)vbattery_current;
 823              		.loc 1 208 3 view .LVU205
 209:Core/Src/l9963e_utils.c **** }
 824              		.loc 1 209 1 is_stmt 0 view .LVU206
 825 0000 014B     		ldr	r3, .L49
 826 0002 B3F90000 		ldrsh	r0, [r3]
 827 0006 7047     		bx	lr
 828              	.L50:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 20


 829              		.align	2
 830              	.L49:
 831 0008 00000000 		.word	vbattery_current
 832              		.cfi_endproc
 833              	.LFE143:
 835              		.section	.text.balancing_set,"ax",%progbits
 836              		.align	1
 837              		.global	balancing_set
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 842              	balancing_set:
 843              	.LVL75:
 844              	.LFB144:
 210:Core/Src/l9963e_utils.c **** 
 211:Core/Src/l9963e_utils.c **** void balancing_set(uint8_t* cell_to_balance, uint8_t enable){
 845              		.loc 1 211 61 is_stmt 1 view -0
 846              		.cfi_startproc
 847              		@ args = 0, pretend = 0, frame = 8
 848              		@ frame_needed = 0, uses_anonymous_args = 0
 849              		.loc 1 211 61 is_stmt 0 view .LVU208
 850 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 851              		.cfi_def_cfa_offset 28
 852              		.cfi_offset 4, -28
 853              		.cfi_offset 5, -24
 854              		.cfi_offset 6, -20
 855              		.cfi_offset 7, -16
 856              		.cfi_offset 8, -12
 857              		.cfi_offset 9, -8
 858              		.cfi_offset 14, -4
 859 0004 85B0     		sub	sp, sp, #20
 860              		.cfi_def_cfa_offset 48
 212:Core/Src/l9963e_utils.c ****   L9963E_RegisterUnionTypeDef bal1_conf_reg = {.generic = L9963E_BAL_1_DEFAULT};
 861              		.loc 1 212 3 is_stmt 1 view .LVU209
 862              		.loc 1 212 31 is_stmt 0 view .LVU210
 863 0006 0023     		movs	r3, #0
 864 0008 0393     		str	r3, [sp, #12]
 213:Core/Src/l9963e_utils.c ****   
 214:Core/Src/l9963e_utils.c ****   if(enable == 0){
 865              		.loc 1 214 3 is_stmt 1 view .LVU211
 866              		.loc 1 214 5 is_stmt 0 view .LVU212
 867 000a 11B1     		cbz	r1, .L57
 868 000c 0646     		mov	r6, r0
 869              	.LBB14:
 215:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_start = 0;
 216:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_stop  = 1;
 217:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_conf_
 218:Core/Src/l9963e_utils.c ****     return;
 219:Core/Src/l9963e_utils.c ****   }
 220:Core/Src/l9963e_utils.c ****   L9963E_RegisterUnionTypeDef activate_balancing;
 221:Core/Src/l9963e_utils.c ****   for(uint8_t i=0;i<L9963E_SLAVES_N;i++){
 870              		.loc 1 221 15 view .LVU213
 871 000e 0025     		movs	r5, #0
 872 0010 81E0     		b	.L52
 873              	.L57:
 874              		.loc 1 221 15 view .LVU214
 875              	.LBE14:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 21


 215:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_start = 0;
 876              		.loc 1 215 5 is_stmt 1 view .LVU215
 216:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_conf_
 877              		.loc 1 216 5 view .LVU216
 216:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_conf_
 878              		.loc 1 216 35 is_stmt 0 view .LVU217
 879 0012 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 880 0016 43F04003 		orr	r3, r3, #64
 881 001a 8DF80D30 		strb	r3, [sp, #13]
 217:Core/Src/l9963e_utils.c ****     return;
 882              		.loc 1 217 5 is_stmt 1 view .LVU218
 883 001e 0A23     		movs	r3, #10
 884 0020 0093     		str	r3, [sp]
 885 0022 03AB     		add	r3, sp, #12
 886 0024 0322     		movs	r2, #3
 887 0026 5248     		ldr	r0, .L58
 888              	.LVL76:
 217:Core/Src/l9963e_utils.c ****     return;
 889              		.loc 1 217 5 is_stmt 0 view .LVU219
 890 0028 FFF7FEFF 		bl	L9963E_DRV_reg_write
 891              	.LVL77:
 218:Core/Src/l9963e_utils.c ****   }
 892              		.loc 1 218 5 is_stmt 1 view .LVU220
 893 002c 9CE0     		b	.L51
 894              	.LVL78:
 895              	.L54:
 896              	.LBB15:
 222:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL1 = cell_to_balance[(14*i)];
 897              		.loc 1 222 7 view .LVU221
 898              		.loc 1 222 66 is_stmt 0 view .LVU222
 899 002e C5EBC504 		rsb	r4, r5, r5, lsl #3
 900              		.loc 1 222 62 view .LVU223
 901 0032 16F81420 		ldrb	r2, [r6, r4, lsl #1]	@ zero_extendqisi2
 902              		.loc 1 222 45 view .LVU224
 903 0036 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 904 003a 62F30513 		bfi	r3, r2, #4, #2
 905 003e 8DF80830 		strb	r3, [sp, #8]
 223:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL2 = cell_to_balance[(14*i + 1)];
 906              		.loc 1 223 7 is_stmt 1 view .LVU225
 907              		.loc 1 223 62 is_stmt 0 view .LVU226
 908 0042 06EB4404 		add	r4, r6, r4, lsl #1
 909 0046 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 910              		.loc 1 223 45 view .LVU227
 911 0048 DBB2     		uxtb	r3, r3
 912 004a 62F38713 		bfi	r3, r2, #6, #2
 913 004e 8DF80830 		strb	r3, [sp, #8]
 224:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL3 = cell_to_balance[(14*i + 2)];
 914              		.loc 1 224 7 is_stmt 1 view .LVU228
 915              		.loc 1 224 62 is_stmt 0 view .LVU229
 916 0052 A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
 917              		.loc 1 224 45 view .LVU230
 918 0054 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 919 0058 62F30103 		bfi	r3, r2, #0, #2
 920 005c 8DF80930 		strb	r3, [sp, #9]
 225:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL4 = cell_to_balance[(14*i + 3)];
 921              		.loc 1 225 7 is_stmt 1 view .LVU231
 922              		.loc 1 225 62 is_stmt 0 view .LVU232
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 22


 923 0060 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 924              		.loc 1 225 45 view .LVU233
 925 0062 DBB2     		uxtb	r3, r3
 926 0064 62F38303 		bfi	r3, r2, #2, #2
 927 0068 8DF80930 		strb	r3, [sp, #9]
 226:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL5 = cell_to_balance[(14*i + 4)];
 928              		.loc 1 226 7 is_stmt 1 view .LVU234
 929              		.loc 1 226 62 is_stmt 0 view .LVU235
 930 006c 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 931              		.loc 1 226 45 view .LVU236
 932 006e DBB2     		uxtb	r3, r3
 933 0070 62F30513 		bfi	r3, r2, #4, #2
 934 0074 8DF80930 		strb	r3, [sp, #9]
 227:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL6 = cell_to_balance[(14*i + 5)];
 935              		.loc 1 227 7 is_stmt 1 view .LVU237
 936              		.loc 1 227 62 is_stmt 0 view .LVU238
 937 0078 6279     		ldrb	r2, [r4, #5]	@ zero_extendqisi2
 938              		.loc 1 227 45 view .LVU239
 939 007a DBB2     		uxtb	r3, r3
 940 007c 62F38713 		bfi	r3, r2, #6, #2
 941 0080 8DF80930 		strb	r3, [sp, #9]
 228:Core/Src/l9963e_utils.c ****       L9963E_DRV_reg_write(
 942              		.loc 1 228 7 is_stmt 1 view .LVU240
 943 0084 0135     		adds	r5, r5, #1
 944              	.LVL79:
 945              		.loc 1 228 7 is_stmt 0 view .LVU241
 946 0086 EDB2     		uxtb	r5, r5
 947              	.LVL80:
 948              		.loc 1 228 7 view .LVU242
 949 0088 0DF10808 		add	r8, sp, #8
 950 008c 384F     		ldr	r7, .L58
 951 008e 4FF00A09 		mov	r9, #10
 952 0092 CDF80090 		str	r9, [sp]
 953 0096 4346     		mov	r3, r8
 954 0098 1122     		movs	r2, #17
 955 009a 2946     		mov	r1, r5
 956 009c 3846     		mov	r0, r7
 957 009e FFF7FEFF 		bl	L9963E_DRV_reg_write
 958              	.LVL81:
 229:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), (i+1), L9963E_BalCell6_1act_ADDR, &activate_balancing, 10
 230:Core/Src/l9963e_utils.c ****       );
 231:Core/Src/l9963e_utils.c **** 
 232:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL7 = cell_to_balance[(14*i + 6)];
 959              		.loc 1 232 7 is_stmt 1 view .LVU243
 960              		.loc 1 232 63 is_stmt 0 view .LVU244
 961 00a2 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 962              		.loc 1 232 46 view .LVU245
 963 00a4 9DF80830 		ldrb	r3, [sp, #8]	@ zero_extendqisi2
 964 00a8 62F30103 		bfi	r3, r2, #0, #2
 965 00ac 8DF80830 		strb	r3, [sp, #8]
 233:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL8 = cell_to_balance[(14*i + 7)];
 966              		.loc 1 233 7 is_stmt 1 view .LVU246
 967              		.loc 1 233 63 is_stmt 0 view .LVU247
 968 00b0 E279     		ldrb	r2, [r4, #7]	@ zero_extendqisi2
 969              		.loc 1 233 46 view .LVU248
 970 00b2 DBB2     		uxtb	r3, r3
 971 00b4 62F38303 		bfi	r3, r2, #2, #2
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 23


 972 00b8 8DF80830 		strb	r3, [sp, #8]
 234:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL9 = cell_to_balance[(14*i + 8)];
 973              		.loc 1 234 7 is_stmt 1 view .LVU249
 974              		.loc 1 234 63 is_stmt 0 view .LVU250
 975 00bc 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 976              		.loc 1 234 46 view .LVU251
 977 00be DBB2     		uxtb	r3, r3
 978 00c0 62F30513 		bfi	r3, r2, #4, #2
 979 00c4 8DF80830 		strb	r3, [sp, #8]
 235:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL10 = cell_to_balance[(14*i + 9)];
 980              		.loc 1 235 7 is_stmt 1 view .LVU252
 981              		.loc 1 235 64 is_stmt 0 view .LVU253
 982 00c8 627A     		ldrb	r2, [r4, #9]	@ zero_extendqisi2
 983              		.loc 1 235 47 view .LVU254
 984 00ca DBB2     		uxtb	r3, r3
 985 00cc 62F38713 		bfi	r3, r2, #6, #2
 986 00d0 8DF80830 		strb	r3, [sp, #8]
 236:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL11 = cell_to_balance[(14*i + 10)];
 987              		.loc 1 236 7 is_stmt 1 view .LVU255
 988              		.loc 1 236 64 is_stmt 0 view .LVU256
 989 00d4 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 990              		.loc 1 236 47 view .LVU257
 991 00d6 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 992 00da 62F30103 		bfi	r3, r2, #0, #2
 993 00de 8DF80930 		strb	r3, [sp, #9]
 237:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL12 = cell_to_balance[(14*i + 11)];
 994              		.loc 1 237 7 is_stmt 1 view .LVU258
 995              		.loc 1 237 64 is_stmt 0 view .LVU259
 996 00e2 E27A     		ldrb	r2, [r4, #11]	@ zero_extendqisi2
 997              		.loc 1 237 47 view .LVU260
 998 00e4 DBB2     		uxtb	r3, r3
 999 00e6 62F38303 		bfi	r3, r2, #2, #2
 1000 00ea 8DF80930 		strb	r3, [sp, #9]
 238:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL13 = cell_to_balance[(14*i + 12)];
 1001              		.loc 1 238 7 is_stmt 1 view .LVU261
 1002              		.loc 1 238 64 is_stmt 0 view .LVU262
 1003 00ee 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 1004              		.loc 1 238 47 view .LVU263
 1005 00f0 DBB2     		uxtb	r3, r3
 1006 00f2 62F30513 		bfi	r3, r2, #4, #2
 1007 00f6 8DF80930 		strb	r3, [sp, #9]
 239:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell14_7act.BAL14 = cell_to_balance[(14*i + 13)];
 1008              		.loc 1 239 7 is_stmt 1 view .LVU264
 1009              		.loc 1 239 64 is_stmt 0 view .LVU265
 1010 00fa 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 1011              		.loc 1 239 47 view .LVU266
 1012 00fc DBB2     		uxtb	r3, r3
 1013 00fe 62F38713 		bfi	r3, r2, #6, #2
 1014 0102 8DF80930 		strb	r3, [sp, #9]
 240:Core/Src/l9963e_utils.c ****       L9963E_DRV_reg_write(
 1015              		.loc 1 240 7 is_stmt 1 view .LVU267
 1016 0106 CDF80090 		str	r9, [sp]
 1017 010a 4346     		mov	r3, r8
 1018 010c 1022     		movs	r2, #16
 1019 010e 2946     		mov	r1, r5
 1020 0110 3846     		mov	r0, r7
 1021 0112 FFF7FEFF 		bl	L9963E_DRV_reg_write
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 24


 1022              	.LVL82:
 221:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL1 = cell_to_balance[(14*i)];
 1023              		.loc 1 221 38 discriminator 3 view .LVU268
 1024              	.L52:
 221:Core/Src/l9963e_utils.c ****       activate_balancing.BalCell6_1act.BAL1 = cell_to_balance[(14*i)];
 1025              		.loc 1 221 20 discriminator 1 view .LVU269
 1026 0116 012D     		cmp	r5, #1
 1027 0118 89D9     		bls	.L54
 1028              	.LBE15:
 241:Core/Src/l9963e_utils.c ****         &(h9l.drv_handle), (i+1), L9963E_BalCell14_7act_ADDR, &activate_balancing, 10
 242:Core/Src/l9963e_utils.c ****       );
 243:Core/Src/l9963e_utils.c ****     }
 244:Core/Src/l9963e_utils.c **** 
 245:Core/Src/l9963e_utils.c ****     //stop and restart balancing
 246:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_start = 0;
 1029              		.loc 1 246 5 view .LVU270
 1030              		.loc 1 246 35 is_stmt 0 view .LVU271
 1031 011a 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 1032 011e 23F08003 		bic	r3, r3, #128
 1033 0122 8DF80D30 		strb	r3, [sp, #13]
 247:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_stop  = 1;
 1034              		.loc 1 247 5 is_stmt 1 view .LVU272
 1035              		.loc 1 247 35 is_stmt 0 view .LVU273
 1036 0126 DBB2     		uxtb	r3, r3
 1037 0128 43F04003 		orr	r3, r3, #64
 1038 012c 8DF80D30 		strb	r3, [sp, #13]
 248:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_conf_
 1039              		.loc 1 248 5 is_stmt 1 view .LVU274
 1040 0130 03AD     		add	r5, sp, #12
 1041              	.LVL83:
 1042              		.loc 1 248 5 is_stmt 0 view .LVU275
 1043 0132 0F4C     		ldr	r4, .L58
 1044 0134 0A26     		movs	r6, #10
 1045              	.LVL84:
 1046              		.loc 1 248 5 view .LVU276
 1047 0136 0096     		str	r6, [sp]
 1048 0138 2B46     		mov	r3, r5
 1049 013a 0322     		movs	r2, #3
 1050 013c 0021     		movs	r1, #0
 1051 013e 2046     		mov	r0, r4
 1052 0140 FFF7FEFF 		bl	L9963E_DRV_reg_write
 1053              	.LVL85:
 249:Core/Src/l9963e_utils.c **** 
 250:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_start = 1;
 1054              		.loc 1 250 5 is_stmt 1 view .LVU277
 1055              		.loc 1 250 35 is_stmt 0 view .LVU278
 1056 0144 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 1057 0148 43F08003 		orr	r3, r3, #128
 1058 014c 8DF80D30 		strb	r3, [sp, #13]
 251:Core/Src/l9963e_utils.c ****     bal1_conf_reg.Bal_1.bal_stop  = 0;
 1059              		.loc 1 251 5 is_stmt 1 view .LVU279
 1060              		.loc 1 251 35 is_stmt 0 view .LVU280
 1061 0150 DBB2     		uxtb	r3, r3
 1062 0152 23F04003 		bic	r3, r3, #64
 1063 0156 8DF80D30 		strb	r3, [sp, #13]
 252:Core/Src/l9963e_utils.c ****     L9963E_DRV_reg_write(&(h9l.drv_handle), L9963E_DEVICE_BROADCAST, L9963E_Bal_1_ADDR, &bal1_conf_
 1064              		.loc 1 252 5 is_stmt 1 view .LVU281
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 25


 1065 015a 0096     		str	r6, [sp]
 1066 015c 2B46     		mov	r3, r5
 1067 015e 0322     		movs	r2, #3
 1068 0160 0021     		movs	r1, #0
 1069 0162 2046     		mov	r0, r4
 1070 0164 FFF7FEFF 		bl	L9963E_DRV_reg_write
 1071              	.LVL86:
 1072              	.L51:
 253:Core/Src/l9963e_utils.c **** }...
 1073              		.loc 1 253 1 is_stmt 0 view .LVU282
 1074 0168 05B0     		add	sp, sp, #20
 1075              		.cfi_def_cfa_offset 28
 1076              		@ sp needed
 1077 016a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 1078              	.L59:
 1079 016e 00BF     		.align	2
 1080              	.L58:
 1081 0170 00000000 		.word	h9l
 1082              		.cfi_endproc
 1083              	.LFE144:
 1085              		.global	interfaceL
 1086              		.section	.rodata.interfaceL,"a"
 1087              		.align	2
 1090              	interfaceL:
 1091 0000 00000000 		.word	GPIO_ReadPinL
 1092 0004 00000000 		.word	GPIO_WritePinL
 1093 0008 00000000 		.word	SPI_ReceiveL
 1094 000c 00000000 		.word	SPI_TransmitL
 1095 0010 00000000 		.word	GetTickMs
 1096 0014 00000000 		.word	DelayMs
 1097              		.global	interfaceH
 1098              		.section	.rodata.interfaceH,"a"
 1099              		.align	2
 1102              	interfaceH:
 1103 0000 00000000 		.word	GPIO_ReadPinH
 1104 0004 00000000 		.word	GPIO_WritePinH
 1105 0008 00000000 		.word	SPI_ReceiveH
 1106 000c 00000000 		.word	SPI_TransmitH
 1107 0010 00000000 		.word	GetTickMs
 1108 0014 00000000 		.word	DelayMs
 1109              		.global	vbattery_current
 1110              		.section	.bss.vbattery_current,"aw",%nobits
 1111              		.align	1
 1114              	vbattery_current:
 1115 0000 0000     		.space	2
 1116              		.global	gpio_addresses
 1117              		.section	.data.gpio_addresses,"aw"
 1118              		.align	2
 1121              	gpio_addresses:
 1122 0000 0100     		.short	1
 1123 0002 0200     		.short	2
 1124 0004 0400     		.short	4
 1125 0006 0800     		.short	8
 1126 0008 4000     		.short	64
 1127              		.global	cells_addresses
 1128              		.section	.data.cells_addresses,"aw"
 1129              		.align	2
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 26


 1132              	cells_addresses:
 1133 0000 0100     		.short	1
 1134 0002 0200     		.short	2
 1135 0004 0400     		.short	4
 1136 0006 0800     		.short	8
 1137 0008 1000     		.short	16
 1138 000a 2000     		.short	32
 1139 000c 4000     		.short	64
 1140 000e 8000     		.short	128
 1141 0010 0001     		.short	256
 1142 0012 0002     		.short	512
 1143 0014 0004     		.short	1024
 1144 0016 0008     		.short	2048
 1145 0018 0010     		.short	4096
 1146 001a 0020     		.short	8192
 1147              		.global	slaves_cells
 1148              		.section	.bss.slaves_cells,"aw",%nobits
 1149              		.align	2
 1152              	slaves_cells:
 1153 0000 00000000 		.space	56
 1153      00000000 
 1153      00000000 
 1153      00000000 
 1153      00000000 
 1154              		.global	vsumbatt
 1155              		.section	.bss.vsumbatt,"aw",%nobits
 1156              		.align	2
 1159              	vsumbatt:
 1160 0000 00000000 		.space	8
 1160      00000000 
 1161              		.global	vtot
 1162              		.section	.bss.vtot,"aw",%nobits
 1163              		.align	2
 1166              	vtot:
 1167 0000 00000000 		.space	4
 1168              		.global	vgpio
 1169              		.section	.bss.vgpio,"aw",%nobits
 1170              		.align	2
 1173              	vgpio:
 1174 0000 00000000 		.space	20
 1174      00000000 
 1174      00000000 
 1174      00000000 
 1174      00000000 
 1175              		.global	vcells
 1176              		.section	.bss.vcells,"aw",%nobits
 1177              		.align	2
 1180              	vcells:
 1181 0000 00000000 		.space	28
 1181      00000000 
 1181      00000000 
 1181      00000000 
 1181      00000000 
 1182              		.global	vcellsm
 1183              		.section	.bss.vcellsm,"aw",%nobits
 1184              		.align	2
 1187              	vcellsm:
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 27


 1188 0000 00000000 		.space	56
 1188      00000000 
 1188      00000000 
 1188      00000000 
 1188      00000000 
 1189              		.global	h9l
 1190              		.section	.bss.h9l,"aw",%nobits
 1191              		.align	2
 1194              	h9l:
 1195 0000 00000000 		.space	28
 1195      00000000 
 1195      00000000 
 1195      00000000 
 1195      00000000 
 1196              		.text
 1197              	.Letext0:
 1198              		.file 2 "C:/Users/Alessandro/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-d
 1199              		.file 3 "C:/Users/Alessandro/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-d
 1200              		.file 4 "Lib/L9963E_lib/inc/L9963E_status.h"
 1201              		.file 5 "Lib/L9963E_lib/inc/L9963E_interface.h"
 1202              		.file 6 "Lib/L9963E_lib/inc/L9963E_registers.h"
 1203              		.file 7 "Lib/L9963E_lib/inc/L9963E_drv.h"
 1204              		.file 8 "Lib/L9963E_lib/inc/L9963E.h"
 1205              		.file 9 "Core/Inc/ntc.h"
 1206              		.file 10 "Core/Inc/stm32_if.h"
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 28


DEFINED SYMBOLS
                            *ABS*:00000000 l9963e_utils.c
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:21     .text.L9963E_utils_init:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:27     .text.L9963E_utils_init:00000000 L9963E_utils_init
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:246    .text.L9963E_utils_init:00000148 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1090   .rodata.interfaceL:00000000 interfaceL
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1194   .bss.h9l:00000000 h9l
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:252    .text.L9963E_utils_read_cells:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:258    .text.L9963E_utils_read_cells:00000000 L9963E_utils_read_cells
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:497    .text.L9963E_utils_read_cells:00000110 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1132   .data.cells_addresses:00000000 cells_addresses
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1187   .bss.vcellsm:00000000 vcellsm
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1159   .bss.vsumbatt:00000000 vsumbatt
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1166   .bss.vtot:00000000 vtot
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1114   .bss.vbattery_current:00000000 vbattery_current
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1121   .data.gpio_addresses:00000000 gpio_addresses
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1173   .bss.vgpio:00000000 vgpio
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:509    .text.L9963E_utils_get_gpios:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:515    .text.L9963E_utils_get_gpios:00000000 L9963E_utils_get_gpios
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:600    .text.L9963E_utils_get_gpios:0000003c $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:605    .text.L9963E_utils_get_cell_mv:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:611    .text.L9963E_utils_get_cell_mv:00000000 L9963E_utils_get_cell_mv
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:638    .text.L9963E_utils_get_cell_mv:0000001c $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:643    .text.L9963E_utils_get_cells:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:649    .text.L9963E_utils_get_cells:00000000 L9963E_utils_get_cells
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:735    .text.L9963E_utils_get_cells:0000003c $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:740    .text.L9963E_utils_get_batt_mv:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:746    .text.L9963E_utils_get_batt_mv:00000000 L9963E_utils_get_batt_mv
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:804    .text.L9963E_utils_get_batt_mv:00000030 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:810    .text.L9963E_utils_get_batt_mA:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:816    .text.L9963E_utils_get_batt_mA:00000000 L9963E_utils_get_batt_mA
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:831    .text.L9963E_utils_get_batt_mA:00000008 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:836    .text.balancing_set:00000000 $t
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:842    .text.balancing_set:00000000 balancing_set
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1081   .text.balancing_set:00000170 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1087   .rodata.interfaceL:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1102   .rodata.interfaceH:00000000 interfaceH
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1099   .rodata.interfaceH:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1111   .bss.vbattery_current:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1118   .data.gpio_addresses:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1129   .data.cells_addresses:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1152   .bss.slaves_cells:00000000 slaves_cells
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1149   .bss.slaves_cells:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1156   .bss.vsumbatt:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1163   .bss.vtot:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1170   .bss.vgpio:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1180   .bss.vcells:00000000 vcells
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1177   .bss.vcells:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1184   .bss.vcellsm:00000000 $d
C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s:1191   .bss.h9l:00000000 $d

UNDEFINED SYMBOLS
L9963E_init
L9963E_addressing_procedure
L9963E_DRV_reg_write
L9963E_enable_vref
L9963E_setCommTimeout
ARM GAS  C:\Users\ALESSA~1\AppData\Local\Temp\cci1RRXv.s 			page 29


L9963E_set_enabled_cells
L9963E_poll_conversion
L9963E_start_conversion
L9963E_read_cell_voltage
L9963E_read_batt_voltage
L9963E_read_current_mA
L9963E_read_gpio_voltage
ntc_get_centideg_from_raw
GPIO_ReadPinL
GPIO_WritePinL
SPI_ReceiveL
SPI_TransmitL
GetTickMs
DelayMs
GPIO_ReadPinH
GPIO_WritePinH
SPI_ReceiveH
SPI_TransmitH
